# 基础语法 {#base}

“程序 = 算法 + 数据结构”，**数据结构**是信息的载体，而**算法**是完成任务所需要的步骤。两者的构造和使用方法形成了编程语言独特的语法。本章先介绍 R 的基本数据结构，然后介绍条件和循环控制，最后介绍函数的创建与拓展包的使用。

## 基本数据结构

为了表示现实世界的信息，各类编程语言常包含 3 种基本的数据类型：**数值型**，包括整数和浮点数；**字符型**，表示文本信息；**逻辑型**，也常称为布尔值，表示是非判断，如对与错，是与否。在 R 中，除了这些基本数据类型的实现，为了方便计算工作，R 本身还包含了矩阵、数据框和列表等复杂的数据类型，以支持表示各类常用的数据。

### 向量

在 R 中，数据运算常通过向量的形式进行。**向量**是一组同质的信息，如 20 个数字、30 个字符串（与数学术语中的向量类似，但不等同）。单一的信息在此被称为**元素**。**标量**可以看作元素数量为 1 的向量。

接下来我们通过向量元素的数据类型来实际地了解和操作它。

#### 数值

数值应该可以说是最常用的信息表现形式，如人的身高、年龄。在 R 中使用小学学到的阿拉伯表示法即可创建数值，如圆周率 $\pi$：

```{r}
3.14
```

> 此处 `#>` 后显示 R 运行代码后的返回结果，`[1]` 是结果的索引，以辅助用户观测，这里表示结果的第 1 个值是 3.14。

`typeof()` 与 `class()` 是两个对于初学者非常有用的函数，它们可以返回数据的类型信息。

```{r}
typeof(3.14)
class(3.14)
```

在 R 中不需要像其他语言一样区分数值的精度信息，`typeof()` 返回结果为 `double` 提示该值是一个浮点数。

在 R 中，任何所见的事物皆为**对象**，`class()` 返回对象的类信息，此处是 `numeric`（数值）。

我们再来看看如何在 R 中表示整数。借助上述两个工具函数，我们不难发现下面的代码与想象不同。

```{r}
3

typeof(3)
class(3)
```

`typeof()` 与 `class()` 对于 3 的返回结果与 3.14 完全相同！这是因为即便只输入 3，R 也将其作为浮点数对待。

我们可以利用 `identical()` 函数或 `is.integer()` 函数进行检查：

```{r}
identical(3, 3.0)

is.integer(3)
```

返回的结果是后面将介绍的逻辑值，`TRUE` 表示对、`FALSE` 表示错。因此可以判断 `3` 并不是整数。

正确的整数表示方法需要在数字后加 `L` 后缀，如 `3L`。

```{r}
is.integer(3L)

identical(3L, 3)
```

`is.integer()` 函数隶属于 `is.xxx()` 家族，该函数家族用于辅助判断对象是否属于某一类型。读者在 RStudio 中输入 `is.` 后 RStudio 将智能提示有哪些函数的名字以 `is.` 开头。

浮点数和整数都是数值，所以下面的代码都会返回 `TRUE`：

```{r}
is.numeric(3.14)
is.numeric(3L)
```

现实中的数据常成组出现，例如，一组学生的身高。R 使用 `c()` 函数（`c` 为 `combine` 的缩写）对数据进行组合：


```{r}
c(1.70, 1.72, 1.80, 1.66, 1.65, 1.88)
```

这样我们就有了一组身高数据。

#### 字符串

#### 因子

#### 逻辑值
 
### 矩阵

### 数据框

### 列表

## 控制结构与循环

## 函数与函数式编程

## 拓展包安装与使用

## 常见问题与方案

除了本节目前罗列的问题，读者在学习本章内容时遇到的其他问题都可以通过 [GitHub Issue](https://github.com/ShixiangWang/geek-r-tutorial/issues) 提出和进行讨论。如果读者提出的是通性问题，将增补到该节。

